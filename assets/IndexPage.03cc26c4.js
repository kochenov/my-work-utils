import{c as we,f as xt,j as Te,a as m,h,k as ea,C as ta,g as ve,i as na,r as E,o as Be,w as ae,$ as aa,d as Pe,a0 as bn,a1 as la,a2 as $t,z as Mt,e as ye,Z as Et,a3 as pn,u as Ne,W as Se,a4 as oa,p as Ft,v as Qt,a5 as Zt,E as ra,a6 as ua,F as wn,m as ia,B as sa,a7 as da,a8 as ge,H as Ee,I as It,J as oe,K as N,a9 as ca,M as _t,Q as at,L as kn,T as be,aa as xn,ab as fa,ac as va,N as gt,A as St,S as Mn,_ as _n,ad as ma,ae as ha,af as ga,O as ya}from"./index.f573de54.js";import{h as pe,Q as Kt,j as ba,k as pa,l as wa,i as Sn,m as et,n as ka,e as ie}from"./QBtn.f6138822.js";import{a as rt,u as ut,b as xa,c as Ma,d as _a,e as Sa,f as Ca,h as Da,p as X}from"./format.c2728649.js";var qa=we({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:a}}=ve(),l=xt(ea,Te);if(l===Te)return console.error("QPage needs to be a deep child of QLayout"),Te;if(xt(ta,Te)===Te)return console.error("QPage needs to be child of QPageContainer"),Te;const r=m(()=>{const i=(l.header.space===!0?l.header.size:0)+(l.footer.space===!0?l.footer.size:0);if(typeof e.styleFn=="function"){const f=l.isContainer.value===!0?l.containerHeight.value:a.screen.height;return e.styleFn(i,f)}return{minHeight:l.isContainer.value===!0?l.containerHeight.value-i+"px":a.screen.height===0?i!==0?`calc(100vh - ${i}px)`:"100vh":a.screen.height-i+"px"}}),c=m(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>h("main",{class:c.value,style:r.value},pe(t.default))}}),Fe=we({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const a=m(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>h(e.tag,{class:a.value},pe(t.default))}});let yt,Ue=0;const re=new Array(256);for(let e=0;e<256;e++)re[e]=(e+256).toString(16).substring(1);const Va=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const a=new Uint8Array(t);return e.getRandomValues(a),a}}return t=>{const a=[];for(let l=t;l>0;l--)a.push(Math.floor(Math.random()*256));return a}})(),Ut=4096;function Ct(){(yt===void 0||Ue+16>Ut)&&(Ue=0,yt=Va(Ut));const e=Array.prototype.slice.call(yt,Ue,Ue+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,re[e[0]]+re[e[1]]+re[e[2]]+re[e[3]]+"-"+re[e[4]]+re[e[5]]+"-"+re[e[6]]+re[e[7]]+"-"+re[e[8]]+re[e[9]]+"-"+re[e[10]]+re[e[11]]+re[e[12]]+re[e[13]]+re[e[14]]+re[e[15]]}function $a(e){return e==null?null:e}function Wt(e,t){return e==null?t===!0?`f_${Ct()}`:null:e}function Ea({getValue:e,required:t=!0}={}){if(na.value===!0){const a=e!==void 0?E($a(e())):E(null);return t===!0&&a.value===null&&Be(()=>{a.value=`f_${Ct()}`}),e!==void 0&&ae(e,l=>{a.value=Wt(l,t)}),a}return e!==void 0?m(()=>Wt(e(),t)):E(`f_${Ct()}`)}const Gt=/^on[A-Z]/;function Fa(){const{attrs:e,vnode:t}=ve(),a={listeners:E({}),attributes:E({})};function l(){const u={},r={};for(const c in e)c!=="class"&&c!=="style"&&Gt.test(c)===!1&&(u[c]=e[c]);for(const c in t.props)Gt.test(c)===!0&&(r[c]=t.props[c]);a.attributes.value=u,a.listeners.value=r}return aa(l),l(),a}function Ia({validate:e,resetValidation:t,requiresQForm:a}){const l=xt(bn,!1);if(l!==!1){const{props:u,proxy:r}=ve();Object.assign(r,{validate:e,resetValidation:t}),ae(()=>u.disable,c=>{c===!0?(typeof t=="function"&&t(),l.unbindComponent(r)):l.bindComponent(r)}),Be(()=>{u.disable!==!0&&l.bindComponent(r)}),Pe(()=>{u.disable!==!0&&l.unbindComponent(r)})}else a===!0&&console.error("Parent QForm not found on useFormChild()!")}const Xt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Jt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,en=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,We=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ge=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,bt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Xt.test(e),hexaColor:e=>Jt.test(e),hexOrHexaColor:e=>en.test(e),rgbColor:e=>We.test(e),rgbaColor:e=>Ge.test(e),rgbOrRgbaColor:e=>We.test(e)||Ge.test(e),hexOrRgbColor:e=>Xt.test(e)||We.test(e),hexaOrRgbaColor:e=>Jt.test(e)||Ge.test(e),anyColor:e=>en.test(e)||We.test(e)||Ge.test(e)},Oa=[!0,!1,"ondemand"],Ba={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Oa.includes(e)}};function Ra(e,t){const{props:a,proxy:l}=ve(),u=E(!1),r=E(null),c=E(!1);Ia({validate:q,resetValidation:y});let i=0,f;const p=m(()=>a.rules!==void 0&&a.rules!==null&&a.rules.length!==0),d=m(()=>a.disable!==!0&&p.value===!0&&t.value===!1),v=m(()=>a.error===!0||u.value===!0),L=m(()=>typeof a.errorMessage=="string"&&a.errorMessage.length!==0?a.errorMessage:r.value);ae(()=>a.modelValue,()=>{c.value=!0,d.value===!0&&a.lazyRules===!1&&I()});function w(){a.lazyRules!=="ondemand"&&d.value===!0&&c.value===!0&&I()}ae(()=>a.reactiveRules,W=>{W===!0?f===void 0&&(f=ae(()=>a.rules,w,{immediate:!0,deep:!0})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),ae(()=>a.lazyRules,w),ae(e,W=>{W===!0?c.value=!0:d.value===!0&&a.lazyRules!=="ondemand"&&I()});function y(){i++,t.value=!1,c.value=!1,u.value=!1,r.value=null,I.cancel()}function q(W=a.modelValue){if(a.disable===!0||p.value===!1)return!0;const U=++i,Y=t.value!==!0?()=>{c.value=!0}:()=>{},M=(z,P)=>{z===!0&&Y(),u.value=z,r.value=P||null,t.value=!1},T=[];for(let z=0;z<a.rules.length;z++){const P=a.rules[z];let G;if(typeof P=="function"?G=P(W,bt):typeof P=="string"&&bt[P]!==void 0&&(G=bt[P](W)),G===!1||typeof G=="string")return M(!0,G),!1;G!==!0&&G!==void 0&&T.push(G)}return T.length===0?(M(!1),!0):(t.value=!0,Promise.all(T).then(z=>{if(z===void 0||Array.isArray(z)===!1||z.length===0)return U===i&&M(!1),!0;const P=z.find(G=>G===!1||typeof G=="string");return U===i&&M(P!==void 0,P),P===void 0},z=>(U===i&&(console.error(z),M(!0)),!1)))}const I=la(q,0);return Pe(()=>{f!==void 0&&f(),I.cancel()}),Object.assign(l,{resetValidation:y,validate:q}),$t(l,"hasError",()=>v.value),{isDirtyModel:c,hasRules:p,hasError:v,errorMessage:L,validate:q,resetValidation:y}}let $e=[],Qe=[];function Cn(e){Qe=Qe.filter(t=>t!==e)}function Aa(e){Cn(e),Qe.push(e)}function tn(e){Cn(e),Qe.length===0&&$e.length!==0&&($e[$e.length-1](),$e=[])}function it(e){Qe.length===0?e():$e.push(e)}function Ta(e){$e=$e.filter(t=>t!==e)}function Dt(e){return e!=null&&(""+e).length!==0}const Ha={...ut,...Ba,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Ya={...Ha,maxlength:[Number,String]},Pa=["update:modelValue","clear","focus","blur"];function ja({requiredForAttr:e=!0,tagProp:t,changeEvent:a=!1}={}){const{props:l,proxy:u}=ve(),r=rt(l,u.$q),c=Ea({required:e,getValue:()=>l.for});return{requiredForAttr:e,changeEvent:a,tag:t===!0?m(()=>l.tag):{value:"label"},isDark:r,editable:m(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:E(!1),focused:E(!1),hasPopupOpen:!1,splitAttrs:Fa(),targetUid:c,rootRef:E(null),targetRef:E(null),controlRef:E(null)}}function La(e){const{props:t,emit:a,slots:l,attrs:u,proxy:r}=ve(),{$q:c}=r;let i=null;e.hasValue===void 0&&(e.hasValue=m(()=>Dt(t.modelValue))),e.emitValue===void 0&&(e.emitValue=C=>{a("update:modelValue",C)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:x,onFocusout:b}),Object.assign(e,{clearValue:D,onControlFocusin:x,onControlFocusout:b,focus:P}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const C=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,O=t.maxlength!==void 0?t.maxlength:t.maxValues;return C+(O!==void 0?" / "+O:"")}}));const{isDirtyModel:f,hasRules:p,hasError:d,errorMessage:v,resetValidation:L}=Ra(e.focused,e.innerLoading),w=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),y=m(()=>t.bottomSlots===!0||t.hint!==void 0||p.value===!0||t.counter===!0||t.error!==null),q=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),I=m(()=>`q-field row no-wrap items-start q-field--${q.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(w.value===!0?" q-field--float":"")+(U.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(d.value===!0?" q-field--error":"")+(d.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&y.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),W=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(d.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),U=m(()=>t.labelSlot===!0||t.label!==void 0),Y=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&d.value!==!0?` text-${t.labelColor}`:"")),M=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:w.value,modelValue:t.modelValue,emitValue:e.emitValue})),T=m(()=>{const C={};return e.targetUid.value&&(C.for=e.targetUid.value),t.disable===!0&&(C["aria-disabled"]="true"),C});function z(){const C=document.activeElement;let O=e.targetRef!==void 0&&e.targetRef.value;O&&(C===null||C.id!==e.targetUid.value)&&(O.hasAttribute("tabindex")===!0||(O=O.querySelector("[tabindex]")),O&&O!==C&&O.focus({preventScroll:!0}))}function P(){it(z)}function G(){Ta(z);const C=document.activeElement;C!==null&&e.rootRef.value.contains(C)&&C.blur()}function x(C){i!==null&&(clearTimeout(i),i=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,a("focus",C))}function b(C,O){i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,a("blur",C)),O!==void 0&&O())})}function D(C){Mt(C),c.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),a("update:modelValue",null),e.changeEvent===!0&&a("change",null),a("clear",t.modelValue),ye(()=>{const O=f.value;L(),f.value=O})}function k(C){[13,32].includes(C.keyCode)&&D(C)}function B(){const C=[];return l.prepend!==void 0&&C.push(h("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ne},l.prepend())),C.push(h("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},R())),d.value===!0&&t.noErrorIcon===!1&&C.push(A("error",[h(Kt,{name:c.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?C.push(A("inner-loading-append",l.loading!==void 0?l.loading():[h(ba,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&C.push(A("inner-clearable-append",[h(Kt,{class:"q-field__focusable-action",name:t.clearIcon||c.iconSet.field.clear,tabindex:0,role:"button","aria-label":c.lang.label.clear,onKeyup:k,onClick:D})])),l.append!==void 0&&C.push(h("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ne},l.append())),e.getInnerAppend!==void 0&&C.push(A("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&C.push(e.getControlChild()),C}function R(){const C=[];return t.prefix!==void 0&&t.prefix!==null&&C.push(h("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&C.push(e.getShadowControl()),e.getControl!==void 0?C.push(e.getControl()):l.rawControl!==void 0?C.push(l.rawControl()):l.control!==void 0&&C.push(h("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(M.value))),U.value===!0&&C.push(h("div",{class:Y.value},pe(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&C.push(h("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),C.concat(pe(l.default))}function K(){let C,O;d.value===!0?v.value!==null?(C=[h("div",{role:"alert"},v.value)],O=`q--slot-error-${v.value}`):(C=pe(l.error),O="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(C=[h("div",t.hint)],O=`q--slot-hint-${t.hint}`):(C=pe(l.hint),O="q--slot-hint"));const j=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&j===!1&&C===void 0)return;const Q=h("div",{key:O,class:"q-field__messages col"},C);return h("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Ne},[t.hideBottomSpace===!0?Q:h(Se,{name:"q-transition--field-message"},()=>Q),j===!0?h("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function A(C,O){return O===null?null:h("div",{key:C,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},O)}let F=!1;return Et(()=>{F=!0}),pn(()=>{F===!0&&t.autofocus===!0&&r.focus()}),t.autofocus===!0&&Be(()=>{r.focus()}),Pe(()=>{i!==null&&clearTimeout(i)}),Object.assign(r,{focus:P,blur:G}),function(){const O=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...T.value}:T.value;return h(e.tag.value,{ref:e.rootRef,class:[I.value,u.class],style:u.style,...O},[l.before!==void 0?h("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ne},l.before()):null,h("div",{class:"q-field__inner relative-position col self-stretch"},[h("div",{ref:e.controlRef,class:W.value,tabindex:-1,...e.controlEvents},B()),y.value===!0?K():null]),l.after!==void 0?h("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ne},l.after()):null])}}const nn={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},lt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Dn=Object.keys(lt);Dn.forEach(e=>{lt[e].regex=new RegExp(lt[e].pattern)});const za=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Dn.join("")+"])|(.)","g"),an=/[.*+?^${}()|[\]\\]/g,le=String.fromCharCode(1),Na={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Qa(e,t,a,l){let u,r,c,i,f,p;const d=E(null),v=E(w());function L(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}ae(()=>e.type+e.autogrow,q),ae(()=>e.mask,x=>{if(x!==void 0)I(v.value,!0);else{const b=P(v.value);q(),e.modelValue!==b&&t("update:modelValue",b)}}),ae(()=>e.fillMask+e.reverseFillMask,()=>{d.value===!0&&I(v.value,!0)}),ae(()=>e.unmaskedValue,()=>{d.value===!0&&I(v.value)});function w(){if(q(),d.value===!0){const x=T(P(e.modelValue));return e.fillMask!==!1?G(x):x}return e.modelValue}function y(x){if(x<u.length)return u.slice(-x);let b="",D=u;const k=D.indexOf(le);if(k!==-1){for(let B=x-D.length;B>0;B--)b+=le;D=D.slice(0,k)+b+D.slice(k)}return D}function q(){if(d.value=e.mask!==void 0&&e.mask.length!==0&&L(),d.value===!1){i=void 0,u="",r="";return}const x=nn[e.mask]===void 0?e.mask:nn[e.mask],b=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",D=b.replace(an,"\\$&"),k=[],B=[],R=[];let K=e.reverseFillMask===!0,A="",F="";x.replace(za,(Q,g,J,se,ue)=>{if(se!==void 0){const $=lt[se];R.push($),F=$.negate,K===!0&&(B.push("(?:"+F+"+)?("+$.pattern+"+)?(?:"+F+"+)?("+$.pattern+"+)?"),K=!1),B.push("(?:"+F+"+)?("+$.pattern+")?")}else if(J!==void 0)A="\\"+(J==="\\"?"":J),R.push(J),k.push("([^"+A+"]+)?"+A+"?");else{const $=g!==void 0?g:ue;A=$==="\\"?"\\\\\\\\":$.replace(an,"\\\\$&"),R.push($),k.push("([^"+A+"]+)?"+A+"?")}});const C=new RegExp("^"+k.join("")+"("+(A===""?".":"[^"+A+"]")+"+)?"+(A===""?"":"["+A+"]*")+"$"),O=B.length-1,j=B.map((Q,g)=>g===0&&e.reverseFillMask===!0?new RegExp("^"+D+"*"+Q):g===O?new RegExp("^"+Q+"("+(F===""?".":F)+"+)?"+(e.reverseFillMask===!0?"$":D+"*")):new RegExp("^"+Q));c=R,i=Q=>{const g=C.exec(e.reverseFillMask===!0?Q:Q.slice(0,R.length+1));g!==null&&(Q=g.slice(1).join(""));const J=[],se=j.length;for(let ue=0,$=Q;ue<se;ue++){const ee=j[ue].exec($);if(ee===null)break;$=$.slice(ee.shift().length),J.push(...ee)}return J.length!==0?J.join(""):Q},u=R.map(Q=>typeof Q=="string"?Q:le).join(""),r=u.split(le).join(b)}function I(x,b,D){const k=l.value,B=k.selectionEnd,R=k.value.length-B,K=P(x);b===!0&&q();const A=T(K),F=e.fillMask!==!1?G(A):A,C=v.value!==F;k.value!==F&&(k.value=F),C===!0&&(v.value=F),document.activeElement===k&&ye(()=>{if(F===r){const j=e.reverseFillMask===!0?r.length:0;k.setSelectionRange(j,j,"forward");return}if(D==="insertFromPaste"&&e.reverseFillMask!==!0){const j=k.selectionEnd;let Q=B-1;for(let g=f;g<=Q&&g<j;g++)u[g]!==le&&Q++;U.right(k,Q);return}if(["deleteContentBackward","deleteContentForward"].indexOf(D)!==-1){const j=e.reverseFillMask===!0?B===0?F.length>A.length?1:0:Math.max(0,F.length-(F===r?0:Math.min(A.length,R)+1))+1:B;k.setSelectionRange(j,j,"forward");return}if(e.reverseFillMask===!0)if(C===!0){const j=Math.max(0,F.length-(F===r?0:Math.min(A.length,R+1)));j===1&&B===1?k.setSelectionRange(j,j,"forward"):U.rightReverse(k,j)}else{const j=F.length-R;k.setSelectionRange(j,j,"backward")}else if(C===!0){const j=Math.max(0,u.indexOf(le),Math.min(A.length,B)-1);U.right(k,j)}else{const j=B-1;U.right(k,j)}});const O=e.unmaskedValue===!0?P(F):F;String(e.modelValue)!==O&&(e.modelValue!==null||O!=="")&&a(O,!0)}function W(x,b,D){const k=T(P(x.value));b=Math.max(0,u.indexOf(le),Math.min(k.length,b)),f=b,x.setSelectionRange(b,D,"forward")}const U={left(x,b){const D=u.slice(b-1).indexOf(le)===-1;let k=Math.max(0,b-1);for(;k>=0;k--)if(u[k]===le){b=k,D===!0&&b++;break}if(k<0&&u[b]!==void 0&&u[b]!==le)return U.right(x,0);b>=0&&x.setSelectionRange(b,b,"backward")},right(x,b){const D=x.value.length;let k=Math.min(D,b+1);for(;k<=D;k++)if(u[k]===le){b=k;break}else u[k-1]===le&&(b=k);if(k>D&&u[b-1]!==void 0&&u[b-1]!==le)return U.left(x,D);x.setSelectionRange(b,b,"forward")},leftReverse(x,b){const D=y(x.value.length);let k=Math.max(0,b-1);for(;k>=0;k--)if(D[k-1]===le){b=k;break}else if(D[k]===le&&(b=k,k===0))break;if(k<0&&D[b]!==void 0&&D[b]!==le)return U.rightReverse(x,0);b>=0&&x.setSelectionRange(b,b,"backward")},rightReverse(x,b){const D=x.value.length,k=y(D),B=k.slice(0,b+1).indexOf(le)===-1;let R=Math.min(D,b+1);for(;R<=D;R++)if(k[R-1]===le){b=R,b>0&&B===!0&&b--;break}if(R>D&&k[b-1]!==void 0&&k[b-1]!==le)return U.leftReverse(x,D);x.setSelectionRange(b,b,"forward")}};function Y(x){t("click",x),p=void 0}function M(x){if(t("keydown",x),oa(x)===!0||x.altKey===!0)return;const b=l.value,D=b.selectionStart,k=b.selectionEnd;if(x.shiftKey||(p=void 0),x.keyCode===37||x.keyCode===39){x.shiftKey&&p===void 0&&(p=b.selectionDirection==="forward"?D:k);const B=U[(x.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(x.preventDefault(),B(b,p===D?k:D),x.shiftKey){const R=b.selectionStart;b.setSelectionRange(Math.min(p,R),Math.max(p,R),"forward")}}else x.keyCode===8&&e.reverseFillMask!==!0&&D===k?(U.left(b,D),b.setSelectionRange(b.selectionStart,k,"backward")):x.keyCode===46&&e.reverseFillMask===!0&&D===k&&(U.rightReverse(b,k),b.setSelectionRange(D,b.selectionEnd,"forward"))}function T(x){if(x==null||x==="")return"";if(e.reverseFillMask===!0)return z(x);const b=c;let D=0,k="";for(let B=0;B<b.length;B++){const R=x[D],K=b[B];if(typeof K=="string")k+=K,R===K&&D++;else if(R!==void 0&&K.regex.test(R))k+=K.transform!==void 0?K.transform(R):R,D++;else return k}return k}function z(x){const b=c,D=u.indexOf(le);let k=x.length-1,B="";for(let R=b.length-1;R>=0&&k!==-1;R--){const K=b[R];let A=x[k];if(typeof K=="string")B=K+B,A===K&&k--;else if(A!==void 0&&K.regex.test(A))do B=(K.transform!==void 0?K.transform(A):A)+B,k--,A=x[k];while(D===R&&A!==void 0&&K.regex.test(A));else return B}return B}function P(x){return typeof x!="string"||i===void 0?typeof x=="number"?i(""+x):x:i(x)}function G(x){return r.length-x.length<=0?x:e.reverseFillMask===!0&&x.length!==0?r.slice(0,-x.length)+x:x+r.slice(x.length)}return{innerValue:v,hasMask:d,moveCursorForPaste:W,updateMaskValue:I,onMaskedKeydown:M,onMaskedClick:Y}}const qn={name:String};function Za(e){return m(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function Ka(e={}){return(t,a,l)=>{t[a](h("input",{class:"hidden"+(l||""),...e.value}))}}function Ua(e){return m(()=>e.name||e.for)}function Wa(e,t){function a(){const l=e.modelValue;try{const u="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(r=>{u.items.add(r)}),{files:u.files}}catch{return{files:void 0}}}return t===!0?m(()=>{if(e.type==="file")return a()}):m(a)}const Ga=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Xa=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Ja=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,el=/[a-z0-9_ -]$/i;function tl(e){return function(a){if(a.type==="compositionend"||a.type==="change"){if(a.target.qComposing!==!0)return;a.target.qComposing=!1,e(a)}else a.type==="compositionupdate"&&a.target.qComposing!==!0&&typeof a.data=="string"&&(Ft.is.firefox===!0?el.test(a.data)===!1:Ga.test(a.data)===!0||Xa.test(a.data)===!0||Ja.test(a.data)===!0)===!0&&(a.target.qComposing=!0)}}var Ve=we({name:"QInput",inheritAttrs:!1,props:{...Ya,...Na,...qn,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Pa,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:a}){const{proxy:l}=ve(),{$q:u}=l,r={};let c=NaN,i,f,p=null,d;const v=E(null),L=Ua(e),{innerValue:w,hasMask:y,moveCursorForPaste:q,updateMaskValue:I,onMaskedKeydown:W,onMaskedClick:U}=Qa(e,t,A,v),Y=Wa(e,!0),M=m(()=>Dt(w.value)),T=tl(R),z=ja({changeEvent:!0}),P=m(()=>e.type==="textarea"||e.autogrow===!0),G=m(()=>P.value===!0||["text","search","url","tel","password"].includes(e.type)),x=m(()=>{const g={...z.splitAttrs.listeners.value,onInput:R,onPaste:B,onChange:C,onBlur:O,onFocus:Qt};return g.onCompositionstart=g.onCompositionupdate=g.onCompositionend=T,y.value===!0&&(g.onKeydown=W,g.onClick=U),e.autogrow===!0&&(g.onAnimationend=K),g}),b=m(()=>{const g={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:L.value,...z.splitAttrs.attributes.value,id:z.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return P.value===!1&&(g.type=e.type),e.autogrow===!0&&(g.rows=1),g});ae(()=>e.type,()=>{v.value&&(v.value.value=e.modelValue)}),ae(()=>e.modelValue,g=>{if(y.value===!0){if(f===!0&&(f=!1,String(g)===c))return;I(g)}else w.value!==g&&(w.value=g,e.type==="number"&&r.hasOwnProperty("value")===!0&&(i===!0?i=!1:delete r.value));e.autogrow===!0&&ye(F)}),ae(()=>e.autogrow,g=>{g===!0?ye(F):v.value!==null&&a.rows>0&&(v.value.style.height="auto")}),ae(()=>e.dense,()=>{e.autogrow===!0&&ye(F)});function D(){it(()=>{const g=document.activeElement;v.value!==null&&v.value!==g&&(g===null||g.id!==z.targetUid.value)&&v.value.focus({preventScroll:!0})})}function k(){v.value!==null&&v.value.select()}function B(g){if(y.value===!0&&e.reverseFillMask!==!0){const J=g.target;q(J,J.selectionStart,J.selectionEnd)}t("paste",g)}function R(g){if(!g||!g.target)return;if(e.type==="file"){t("update:modelValue",g.target.files);return}const J=g.target.value;if(g.target.qComposing===!0){r.value=J;return}if(y.value===!0)I(J,!1,g.inputType);else if(A(J),G.value===!0&&g.target===document.activeElement){const{selectionStart:se,selectionEnd:ue}=g.target;se!==void 0&&ue!==void 0&&ye(()=>{g.target===document.activeElement&&J.indexOf(g.target.value)===0&&g.target.setSelectionRange(se,ue)})}e.autogrow===!0&&F()}function K(g){t("animationend",g),F()}function A(g,J){d=()=>{p=null,e.type!=="number"&&r.hasOwnProperty("value")===!0&&delete r.value,e.modelValue!==g&&c!==g&&(c=g,J===!0&&(f=!0),t("update:modelValue",g),ye(()=>{c===g&&(c=NaN)})),d=void 0},e.type==="number"&&(i=!0,r.value=g),e.debounce!==void 0?(p!==null&&clearTimeout(p),r.value=g,p=setTimeout(d,e.debounce)):d()}function F(){requestAnimationFrame(()=>{const g=v.value;if(g!==null){const J=g.parentNode.style,{scrollTop:se}=g,{overflowY:ue,maxHeight:$}=u.platform.is.firefox===!0?{}:window.getComputedStyle(g),ee=ue!==void 0&&ue!=="scroll";ee===!0&&(g.style.overflowY="hidden"),J.marginBottom=g.scrollHeight-1+"px",g.style.height="1px",g.style.height=g.scrollHeight+"px",ee===!0&&(g.style.overflowY=parseInt($,10)<g.scrollHeight?"auto":"hidden"),J.marginBottom="",g.scrollTop=se}})}function C(g){T(g),p!==null&&(clearTimeout(p),p=null),d!==void 0&&d(),t("change",g.target.value)}function O(g){g!==void 0&&Qt(g),p!==null&&(clearTimeout(p),p=null),d!==void 0&&d(),i=!1,f=!1,delete r.value,e.type!=="file"&&setTimeout(()=>{v.value!==null&&(v.value.value=w.value!==void 0?w.value:"")})}function j(){return r.hasOwnProperty("value")===!0?r.value:w.value!==void 0?w.value:""}Pe(()=>{O()}),Be(()=>{e.autogrow===!0&&F()}),Object.assign(z,{innerValue:w,fieldClass:m(()=>`q-${P.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:v,emitValue:A,hasValue:M,floatingLabel:m(()=>M.value===!0&&(e.type!=="number"||isNaN(w.value)===!1)||Dt(e.displayValue)),getControl:()=>h(P.value===!0?"textarea":"input",{ref:v,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...b.value,...x.value,...e.type!=="file"?{value:j()}:Y.value}),getShadowControl:()=>h("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(P.value===!0?"":" text-no-wrap")},[h("span",{class:"invisible"},j()),h("span",e.shadowText)])});const Q=La(z);return Object.assign(l,{focus:D,select:k,getNativeElement:()=>v.value}),$t(l,"nativeEl",()=>v.value),Q}}),Vn=we({name:"QCardActions",props:{...pa,vertical:Boolean},setup(e,{slots:t}){const a=wa(e),l=m(()=>`q-card__actions ${a.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>h("div",{class:l.value},pe(t.default))}}),ot=we({name:"QCard",props:{...ut,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:a}}=ve(),l=rt(e,a),u=m(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>h(e.tag,{class:u.value},pe(t.default))}});function nl(){let e;const t=ve();function a(){e=void 0}return Et(a),Pe(a),{removeTick:a,registerTick(l){e=l,ye(()=>{e===l&&(Sn(t)===!1&&e(),e=void 0)})}}}const al={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function ll(e,t=()=>{},a=()=>{}){return{transitionProps:m(()=>{const l=`q-transition--${e.transitionShow||t()}`,u=`q-transition--${e.transitionHide||a()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let ol=1,rl=document.body;function ul(e,t){const a=document.createElement("div");if(a.id=t!==void 0?`q-portal--${t}--${ol++}`:e,Zt.globalNodes!==void 0){const l=Zt.globalNodes.class;l!==void 0&&(a.className=l)}return rl.appendChild(a),a}function il(e){e.remove()}const tt=[];function sl(e){return tt.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function dl(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return et(e)}else if(e.__qPortal===!0){const a=et(e);return a!==void 0&&a.$options.name==="QPopupProxy"?(e.hide(t),a):e}e=et(e)}while(e!=null)}function cl(e,t,a){for(;a!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(a--,e.$options.name==="QMenu"){e=dl(e,t);continue}e.hide(t)}e=et(e)}}const fl=we({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function vl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function ml(e,t,a,l){const u=E(!1),r=E(!1);let c=null;const i={},f=l==="dialog"&&vl(e);function p(v){if(v===!0){tn(i),r.value=!0;return}r.value=!1,u.value===!1&&(f===!1&&c===null&&(c=ul(!1,l)),u.value=!0,tt.push(e.proxy),Aa(i))}function d(v){if(r.value=!1,v!==!0)return;tn(i),u.value=!1;const L=tt.indexOf(e.proxy);L!==-1&&tt.splice(L,1),c!==null&&(il(c),c=null)}return ra(()=>{d(!0)}),e.proxy.__qPortal=!0,$t(e.proxy,"contentEl",()=>t.value),{showPortal:p,hidePortal:d,portalIsActive:u,portalIsAccessible:r,renderPortal:()=>f===!0?a():u.value===!0?[h(ua,{to:c},h(fl,a))]:void 0}}const Ie=[];let Ye;function hl(e){Ye=e.keyCode===27}function gl(){Ye===!0&&(Ye=!1)}function yl(e){Ye===!0&&(Ye=!1,wn(e,27)===!0&&Ie[Ie.length-1](e))}function $n(e){window[e]("keydown",hl),window[e]("blur",gl),window[e]("keyup",yl),Ye=!1}function bl(e){Ft.is.desktop===!0&&(Ie.push(e),Ie.length===1&&$n("addEventListener"))}function ln(e){const t=Ie.indexOf(e);t!==-1&&(Ie.splice(t,1),Ie.length===0&&$n("removeEventListener"))}const Oe=[];function En(e){Oe[Oe.length-1](e)}function pl(e){Ft.is.desktop===!0&&(Oe.push(e),Oe.length===1&&document.body.addEventListener("focusin",En))}function on(e){const t=Oe.indexOf(e);t!==-1&&(Oe.splice(t,1),Oe.length===0&&document.body.removeEventListener("focusin",En))}let Xe=0;const wl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},rn={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Fn=we({name:"QDialog",inheritAttrs:!1,props:{...xa,...al,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Ma,"shake","click","escapeKey"],setup(e,{slots:t,emit:a,attrs:l}){const u=ve(),r=E(null),c=E(!1),i=E(!1);let f=null,p=null,d,v;const L=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:w}=Da(),{registerTimeout:y}=_a(),{registerTick:q,removeTick:I}=nl(),{transitionProps:W,transitionStyle:U}=ll(e,()=>rn[e.position][0],()=>rn[e.position][1]),Y=m(()=>U.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:M,hidePortal:T,portalIsAccessible:z,renderPortal:P}=ml(u,r,ue,"dialog"),{hide:G}=Sa({showing:c,hideOnRouteChange:L,handleShow:K,handleHide:A,processOnMount:!0}),{addToHistory:x,removeFromHistory:b}=Ca(c,G,L),D=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${wl[e.position]}`+(i.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),k=m(()=>c.value===!0&&e.seamless!==!0),B=m(()=>e.autoClose===!0?{onClick:g}:{}),R=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${k.value===!0?"modal":"seamless"}`,l.class]);ae(()=>e.maximized,$=>{c.value===!0&&Q($)}),ae(k,$=>{w($),$===!0?(pl(se),bl(O)):(on(se),ln(O))});function K($){x(),p=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Q(e.maximized),M(),i.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),q(F)):I(),y(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:ee,bottom:xe}=document.activeElement.getBoundingClientRect(),{innerHeight:he}=window,je=window.visualViewport!==void 0?window.visualViewport.height:he;ee>0&&xe>je/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-je,xe>=he?1/0:Math.ceil(document.scrollingElement.scrollTop+xe-je/2))),document.activeElement.scrollIntoView()}v=!0,r.value.click(),v=!1}M(!0),i.value=!1,a("show",$)},e.transitionDuration)}function A($){I(),b(),j(!0),i.value=!0,T(),p!==null&&((($&&$.type.indexOf("key")===0?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),y(()=>{T(!0),i.value=!1,a("hide",$)},e.transitionDuration)}function F($){it(()=>{let ee=r.value;if(ee!==null){if($!==void 0){const xe=ee.querySelector($);if(xe!==null){xe.focus({preventScroll:!0});return}}ee.contains(document.activeElement)!==!0&&(ee=ee.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||ee.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||ee.querySelector("[autofocus], [data-autofocus]")||ee,ee.focus({preventScroll:!0}))}})}function C($){$&&typeof $.focus=="function"?$.focus({preventScroll:!0}):F(),a("shake");const ee=r.value;ee!==null&&(ee.classList.remove("q-animate--scale"),ee.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,r.value!==null&&(ee.classList.remove("q-animate--scale"),F())},170))}function O(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&C():(a("escapeKey"),G()))}function j($){f!==null&&(clearTimeout(f),f=null),($===!0||c.value===!0)&&(Q(!1),e.seamless!==!0&&(w(!1),on(se),ln(O))),$!==!0&&(p=null)}function Q($){$===!0?d!==!0&&(Xe<1&&document.body.classList.add("q-body--dialog"),Xe++,d=!0):d===!0&&(Xe<2&&document.body.classList.remove("q-body--dialog"),Xe--,d=!1)}function g($){v!==!0&&(G($),a("click",$))}function J($){e.persistent!==!0&&e.noBackdropDismiss!==!0?G($):e.noShake!==!0&&C()}function se($){e.allowFocusOutside!==!0&&z.value===!0&&ka(r.value,$.target)!==!0&&F('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:F,shake:C,__updateRefocusTarget($){p=$||null}}),Pe(j);function ue(){return h("div",{role:"dialog","aria-modal":k.value===!0?"true":"false",...l,class:R.value},[h(Se,{name:"q-transition--fade",appear:!0},()=>k.value===!0?h("div",{class:"q-dialog__backdrop fixed-full",style:Y.value,"aria-hidden":"true",tabindex:-1,onClick:J}):null),h(Se,W.value,()=>c.value===!0?h("div",{ref:r,class:D.value,style:U.value,tabindex:-1,...B.value},pe(t.default)):null)])}return P}});function un(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var qt=ia({name:"close-popup",beforeMount(e,{value:t}){const a={depth:un(t),handler(l){a.depth!==0&&setTimeout(()=>{const u=sl(e);u!==void 0&&cl(u,l,a.depth)})},handlerKey(l){wn(l,13)===!0&&a.handler(l)}};e.__qclosepopup=a,e.addEventListener("click",a.handler),e.addEventListener("keyup",a.handlerKey)},updated(e,{value:t,oldValue:a}){t!==a&&(e.__qclosepopup.depth=un(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const kl={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},pt={xs:2,sm:4,md:8,lg:16,xl:24};var xl=we({name:"QSeparator",props:{...ut,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=ve(),a=rt(e,t.proxy.$q),l=m(()=>e.vertical===!0?"vertical":"horizontal"),u=m(()=>` q-separator--${l.value}`),r=m(()=>e.inset!==!1?`${u.value}-${kl[e.inset]}`:""),c=m(()=>`q-separator${u.value}${r.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(a.value===!0?" q-separator--dark":"")),i=m(()=>{const f={};if(e.size!==void 0&&(f[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const p=e.spaced===!0?`${pt.md}px`:e.spaced in pt?`${pt[e.spaced]}px`:e.spaced,d=e.vertical===!0?["Left","Right"]:["Top","Bottom"];f[`margin${d[0]}`]=f[`margin${d[1]}`]=p}return f});return()=>h("hr",{class:c.value,style:i.value,"aria-orientation":l.value})}}),Ml=we({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:a}){const l=ve(),u=E(null);let r=0;const c=[];function i(w){const y=typeof w=="boolean"?w:e.noErrorFocus!==!0,q=++r,I=(Y,M)=>{a(`validation${Y===!0?"Success":"Error"}`,M)},W=Y=>{const M=Y.validate();return typeof M.then=="function"?M.then(T=>({valid:T,comp:Y}),T=>({valid:!1,comp:Y,err:T})):Promise.resolve({valid:M,comp:Y})};return(e.greedy===!0?Promise.all(c.map(W)).then(Y=>Y.filter(M=>M.valid!==!0)):c.reduce((Y,M)=>Y.then(()=>W(M).then(T=>{if(T.valid===!1)return Promise.reject(T)})),Promise.resolve()).catch(Y=>[Y])).then(Y=>{if(Y===void 0||Y.length===0)return q===r&&I(!0),!0;if(q===r){const{comp:M,err:T}=Y[0];if(T!==void 0&&console.error(T),I(!1,M),y===!0){const z=Y.find(({comp:P})=>typeof P.focus=="function"&&Sn(P.$)===!1);z!==void 0&&z.comp.focus()}}return!1})}function f(){r++,c.forEach(w=>{typeof w.resetValidation=="function"&&w.resetValidation()})}function p(w){w!==void 0&&Mt(w);const y=r+1;i().then(q=>{y===r&&q===!0&&(e.onSubmit!==void 0?a("submit",w):w!==void 0&&w.target!==void 0&&typeof w.target.submit=="function"&&w.target.submit())})}function d(w){w!==void 0&&Mt(w),a("reset"),ye(()=>{f(),e.autofocus===!0&&e.noResetFocus!==!0&&v()})}function v(){it(()=>{if(u.value===null)return;const w=u.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(u.value.querySelectorAll("[tabindex]"),y=>y.tabIndex!==-1);w!=null&&w.focus({preventScroll:!0})})}sa(bn,{bindComponent(w){c.push(w)},unbindComponent(w){const y=c.indexOf(w);y!==-1&&c.splice(y,1)}});let L=!1;return Et(()=>{L=!0}),pn(()=>{L===!0&&e.autofocus===!0&&v()}),Be(()=>{e.autofocus===!0&&v()}),Object.assign(l.proxy,{validate:i,resetValidation:f,submit:p,reset:d,focus:v,getValidationComponents:()=>c}),()=>h("form",{class:"q-form",ref:u,onSubmit:p,onReset:d},pe(t.default))}});const sn=e=>new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),Ot=da("events",{state:()=>({events:{}}),getters:{getEvents:e=>e.events},actions:{saveEvents(e){console.log(e),console.log("\u041F\u0435\u0440\u0432\u044B\u0439 \u0434\u0435\u043D\u044C: "+e.events[0].date),console.log("\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u0434\u0435\u043D\u044C: "+e.events[e.events.length-1].date);const t=`${Object.keys(this.events).length+1}. ${sn(e.events[0].date)} - ${sn(e.events[e.events.length-1].date)}`,l={...ge.getItem("events")||{},[t]:e};this.events=l,ge.set("events",l),console.log("\u0421\u043E\u0445\u0440\u0430\u043D\u0451\u043D\u043D\u044B\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u044F:",this.events)},loadEvents(){const e=ge.getItem("events");e&&(this.events=e)},clearEvents(){this.events={},ge.remove("events")}}}),_l=be("div",{class:"text-h6"},"\u0420\u0430\u0441\u0447\u0451\u0442 \u0440\u0430\u0431\u043E\u0447\u0435\u0433\u043E \u0433\u0440\u0430\u0444\u0438\u043A\u0430",-1),Sl=be("div",{class:"text-subtitle2"},"\u0412\u0430\u0445\u0442\u043E\u0432\u044B\u0439 \u043C\u0435\u0442\u043E\u0434",-1),Cl={key:0},Dl={__name:"FormCalculater",emits:["check"],setup(e,{emit:t}){const a=Ot(),l=E(6),u=E(1),r=E(15),c=E(new Date().toISOString().split("T")[0]),i=E(4500),f=E(5e3),p=E(!1),d=()=>{p.value=!p.value},v=t,L=()=>{console.log("\u0413\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0433\u0440\u0430\u0444\u0438\u043A\u0430");let w=[],y=new Date(c.value),q=0;for(;q<r.value;){for(let W=0;W<l.value&&q<r.value;W++)w.push({date:y.toISOString().split("T")[0],type:"work"}),y.setDate(y.getDate()+1),q++;for(let W=0;W<u.value&&q<r.value;W++)w.push({date:y.toISOString().split("T")[0],type:"rest"}),y.setDate(y.getDate()+1),q++}w=w.map((W,U)=>({...W,id:U}));let I={workingDays:l.value,restDays:u.value,rotationPeriod:r.value,rotationStart:c.value,minSalaryPerDay:i.value,maxSalaryPerDay:f.value};a.saveEvents({events:w,params:I}),console.log("\u0421\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u044F:",a.getEvents),v("check")};return(w,y)=>(Ee(),It(ot,{class:"my-card"},{default:oe(()=>[N(Fe,null,{default:oe(()=>[_l,Sl]),_:1}),N(xl,{inset:""}),N(Fe,null,{default:oe(()=>[N(Ml,{class:"q-gutter-md",onSubmit:ca(L,["prevent"])},{default:oe(()=>[N(Ve,{modelValue:l.value,"onUpdate:modelValue":y[0]||(y[0]=q=>l.value=q),modelModifiers:{number:!0},label:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0440\u0430\u0431\u043E\u0447\u0438\u0445 \u0434\u043D\u0435\u0439",type:"number"},null,8,["modelValue"]),N(Ve,{modelValue:u.value,"onUpdate:modelValue":y[1]||(y[1]=q=>u.value=q),modelModifiers:{number:!0},label:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0445 \u0434\u043D\u0435\u0439",type:"number"},null,8,["modelValue"]),N(Ve,{modelValue:r.value,"onUpdate:modelValue":y[2]||(y[2]=q=>r.value=q),modelModifiers:{number:!0},label:"\u0421\u0440\u043E\u043A \u0432\u0430\u0445\u0442\u044B (\u0434\u043D\u0438)",type:"number"},null,8,["modelValue"]),N(Ve,{modelValue:c.value,"onUpdate:modelValue":y[3]||(y[3]=q=>c.value=q),label:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u0432\u0430\u0445\u0442\u044B",type:"date"},null,8,["modelValue"]),N(ie,{color:"black",class:"full-width",onClick:d},{default:oe(()=>[_t("\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u043A\u0430")]),_:1}),p.value?(Ee(),at("div",Cl,[N(Ve,{modelValue:i.value,"onUpdate:modelValue":y[4]||(y[4]=q=>i.value=q),modelModifiers:{number:!0},label:"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u0437/\u043F \u0437\u0430 \u0434\u0435\u043D\u044C",type:"number"},null,8,["modelValue"]),N(Ve,{modelValue:f.value,"onUpdate:modelValue":y[5]||(y[5]=q=>f.value=q),modelModifiers:{number:!0},label:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u0437/\u043F \u0437\u0430 \u0434\u0435\u043D\u044C",type:"number"},null,8,["modelValue"])])):kn("",!0),N(ie,{class:"full-width",label:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u043A",type:"submit",color:"primary"})]),_:1})]),_:1})]),_:1}))}};function ql(){let e=Object.create(null);return{getCache:(t,a)=>e[t]===void 0?e[t]=typeof a=="function"?a():a:e[t],setCache(t,a){e[t]=a},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Ce=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Vl(e,t,a){return Object.prototype.toString.call(e)==="[object Date]"&&(a=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),Il(Bt(e,t,a))}function dn(e,t,a){return On(Fl(e,t,a))}function $l(e){return El(e)===0}function nt(e,t){return t<=6?31:t<=11||$l(e)?30:29}function El(e){const t=Ce.length;let a=Ce[0],l,u,r,c,i;if(e<a||e>=Ce[t-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<t&&(l=Ce[i],u=l-a,!(e<l));i+=1)a=l;return c=e-a,u-c<6&&(c=c-u+ne(u+4,33)*33),r=fe(fe(c+1,33)-1,4),r===-1&&(r=4),r}function In(e,t){const a=Ce.length,l=e+621;let u=-14,r=Ce[0],c,i,f,p,d;if(e<r||e>=Ce[a-1])throw new Error("Invalid Jalaali year "+e);for(d=1;d<a&&(c=Ce[d],i=c-r,!(e<c));d+=1)u=u+ne(i,33)*8+ne(fe(i,33),4),r=c;p=e-r,u=u+ne(p,33)*8+ne(fe(p,33)+3,4),fe(i,33)===4&&i-p===4&&(u+=1);const v=ne(l,4)-ne((ne(l,100)+1)*3,4)-150,L=20+u-v;return t||(i-p<6&&(p=p-i+ne(i+4,33)*33),f=fe(fe(p+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:l,march:L}}function Fl(e,t,a){const l=In(e,!0);return Bt(l.gy,3,l.march)+(t-1)*31-ne(t,7)*(t-7)+a-1}function Il(e){const t=On(e).gy;let a=t-621,l,u,r;const c=In(a,!1),i=Bt(t,3,c.march);if(r=e-i,r>=0){if(r<=185)return u=1+ne(r,31),l=fe(r,31)+1,{jy:a,jm:u,jd:l};r-=186}else a-=1,r+=179,c.leap===1&&(r+=1);return u=7+ne(r,30),l=fe(r,30)+1,{jy:a,jm:u,jd:l}}function Bt(e,t,a){let l=ne((e+ne(t-8,6)+100100)*1461,4)+ne(153*fe(t+9,12)+2,5)+a-34840408;return l=l-ne(ne(e+100100+ne(t-8,6),100)*3,4)+752,l}function On(e){let t=4*e+139361631;t=t+ne(ne(4*e+183187720,146097)*3,4)*4-3908;const a=ne(fe(t,1461),4)*5+308,l=ne(fe(a,153),5)+1,u=fe(ne(a,153),12)+1;return{gy:ne(t,1461)-100100+ne(8-u,6),gm:u,gd:l}}function ne(e,t){return~~(e/t)}function fe(e,t){return e-~~(e/t)*t}const Ol=["gregorian","persian"],cn={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ol.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Bl=["update:modelValue"];function Me(e){return e.year+"/"+X(e.month)+"/"+X(e.day)}function Rl(e,t){const a=m(()=>e.disable!==!0&&e.readonly!==!0),l=m(()=>a.value===!0?0:-1),u=m(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function r(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function c(i){const f=new Date,p=i===!0?null:0;if(e.calendar==="persian"){const d=Vl(f);return{year:d.jy,month:d.jm,day:d.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:p,minute:p,second:p,millisecond:p}}return{editable:a,tabindex:l,headerClass:u,getLocale:r,getCurrentDate:c}}const Bn=864e5,Al=36e5,Vt=6e4,Rn="YYYY-MM-DDTHH:mm:ss.SSSZ",Tl=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Hl=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,wt={};function Yl(e,t){const a="("+t.days.join("|")+")",l=e+a;if(wt[l]!==void 0)return wt[l];const u="("+t.daysShort.join("|")+")",r="("+t.months.join("|")+")",c="("+t.monthsShort.join("|")+")",i={};let f=0;const p=e.replace(Hl,v=>{switch(f++,v){case"YY":return i.YY=f,"(-?\\d{1,2})";case"YYYY":return i.YYYY=f,"(-?\\d{1,4})";case"M":return i.M=f,"(\\d{1,2})";case"MM":return i.M=f,"(\\d{2})";case"MMM":return i.MMM=f,c;case"MMMM":return i.MMMM=f,r;case"D":return i.D=f,"(\\d{1,2})";case"Do":return i.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=f,"(\\d{2})";case"H":return i.H=f,"(\\d{1,2})";case"HH":return i.H=f,"(\\d{2})";case"h":return i.h=f,"(\\d{1,2})";case"hh":return i.h=f,"(\\d{2})";case"m":return i.m=f,"(\\d{1,2})";case"mm":return i.m=f,"(\\d{2})";case"s":return i.s=f,"(\\d{1,2})";case"ss":return i.s=f,"(\\d{2})";case"S":return i.S=f,"(\\d{1})";case"SS":return i.S=f,"(\\d{2})";case"SSS":return i.S=f,"(\\d{3})";case"A":return i.A=f,"(AM|PM)";case"a":return i.a=f,"(am|pm)";case"aa":return i.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return u;case"dddd":return a;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=f,"(-?\\d+)";case"x":return i.x=f,"(-?\\d{4,})";default:return f--,v[0]==="["&&(v=v.substring(1,v.length-1)),v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),d={map:i,regex:new RegExp("^"+p)};return wt[l]=d,d}function An(e,t){return e!==void 0?e:t!==void 0?t.date:fa.date}function fn(e,t=""){const a=e>0?"-":"+",l=Math.abs(e),u=Math.floor(l/60),r=l%60;return a+X(u)+t+X(r)}function Pl(e,t,a,l,u){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(u!==void 0&&Object.assign(r,u),e==null||e===""||typeof e!="string")return r;t===void 0&&(t=Rn);const c=An(a,xn.props),i=c.months,f=c.monthsShort,{regex:p,map:d}=Yl(t,c),v=e.match(p);if(v===null)return r;let L="";if(d.X!==void 0||d.x!==void 0){const w=parseInt(v[d.X!==void 0?d.X:d.x],10);if(isNaN(w)===!0||w<0)return r;const y=new Date(w*(d.X!==void 0?1e3:1));r.year=y.getFullYear(),r.month=y.getMonth()+1,r.day=y.getDate(),r.hour=y.getHours(),r.minute=y.getMinutes(),r.second=y.getSeconds(),r.millisecond=y.getMilliseconds()}else{if(d.YYYY!==void 0)r.year=parseInt(v[d.YYYY],10);else if(d.YY!==void 0){const w=parseInt(v[d.YY],10);r.year=w<0?w:2e3+w}if(d.M!==void 0){if(r.month=parseInt(v[d.M],10),r.month<1||r.month>12)return r}else d.MMM!==void 0?r.month=f.indexOf(v[d.MMM])+1:d.MMMM!==void 0&&(r.month=i.indexOf(v[d.MMMM])+1);if(d.D!==void 0){if(r.day=parseInt(v[d.D],10),r.year===null||r.month===null||r.day<1)return r;const w=l!=="persian"?new Date(r.year,r.month,0).getDate():nt(r.year,r.month);if(r.day>w)return r}d.H!==void 0?r.hour=parseInt(v[d.H],10)%24:d.h!==void 0&&(r.hour=parseInt(v[d.h],10)%12,(d.A&&v[d.A]==="PM"||d.a&&v[d.a]==="pm"||d.aa&&v[d.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),d.m!==void 0&&(r.minute=parseInt(v[d.m],10)%60),d.s!==void 0&&(r.second=parseInt(v[d.s],10)%60),d.S!==void 0&&(r.millisecond=parseInt(v[d.S],10)*10**(3-v[d.S].length)),(d.Z!==void 0||d.ZZ!==void 0)&&(L=d.Z!==void 0?v[d.Z].replace(":",""):v[d.ZZ],r.timezoneOffset=(L[0]==="+"?-1:1)*(60*L.slice(1,3)+1*L.slice(3,5)))}return r.dateHash=X(r.year,6)+"/"+X(r.month)+"/"+X(r.day),r.timeHash=X(r.hour)+":"+X(r.minute)+":"+X(r.second)+L,r}function vn(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const l=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-l);const u=(t-a)/(Bn*7);return 1+Math.floor(u)}function ke(e,t,a){const l=new Date(e),u=`set${a===!0?"UTC":""}`;switch(t){case"year":case"years":l[`${u}Month`](0);case"month":case"months":l[`${u}Date`](1);case"day":case"days":case"date":l[`${u}Hours`](0);case"hour":case"hours":l[`${u}Minutes`](0);case"minute":case"minutes":l[`${u}Seconds`](0);case"second":case"seconds":l[`${u}Milliseconds`](0)}return l}function Je(e,t,a){return(e.getTime()-e.getTimezoneOffset()*Vt-(t.getTime()-t.getTimezoneOffset()*Vt))/a}function Tn(e,t,a="days"){const l=new Date(e),u=new Date(t);switch(a){case"years":case"year":return l.getFullYear()-u.getFullYear();case"months":case"month":return(l.getFullYear()-u.getFullYear())*12+l.getMonth()-u.getMonth();case"days":case"day":case"date":return Je(ke(l,"day"),ke(u,"day"),Bn);case"hours":case"hour":return Je(ke(l,"hour"),ke(u,"hour"),Al);case"minutes":case"minute":return Je(ke(l,"minute"),ke(u,"minute"),Vt);case"seconds":case"second":return Je(ke(l,"second"),ke(u,"second"),1e3)}}function mn(e){return Tn(e,ke(e,"year"),"days")+1}function hn(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const gn={YY(e,t,a){const l=this.YYYY(e,t,a)%100;return l>=0?X(l):"-"+X(Math.abs(l))},YYYY(e,t,a){return a!=null?a:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return X(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return hn(this.Q(e))},D(e){return e.getDate()},Do(e){return hn(e.getDate())},DD(e){return X(e.getDate())},DDD(e){return mn(e)},DDDD(e){return X(mn(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return vn(e)},ww(e){return X(vn(e))},H(e){return e.getHours()},HH(e){return X(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return X(this.h(e))},m(e){return e.getMinutes()},mm(e){return X(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return X(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return X(Math.floor(e.getMilliseconds()/10))},SSS(e){return X(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,a,l){const u=l==null?e.getTimezoneOffset():l;return fn(u,":")},ZZ(e,t,a,l){const u=l==null?e.getTimezoneOffset():l;return fn(u)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function jl(e,t,a,l,u){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;t===void 0&&(t=Rn);const c=An(a,xn.props);return t.replace(Tl,(i,f)=>i in gn?gn[i](r,c,l,u):f===void 0?i:f.split("\\]").join("]"))}const qe=20,Ll=["Calendar","Years","Months"],yn=e=>Ll.includes(e),kt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),He=" \u2014 ";function _e(e){return e.year+"/"+X(e.month)}var zl=we({name:"QDate",props:{...cn,...qn,...ut,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...cn.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:kt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:kt},navigationMaxYearMonth:{type:String,validator:kt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:yn}},emits:[...Bl,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:a}){const{proxy:l}=ve(),{$q:u}=l,r=rt(e,u),{getCache:c}=ql(),{tabindex:i,headerClass:f,getLocale:p,getCurrentDate:d}=Rl(e,u);let v;const L=Za(e),w=Ka(L),y=E(null),q=E(Ht()),I=E(p()),W=m(()=>Ht()),U=m(()=>p()),Y=m(()=>d()),M=E(Yt(q.value,I.value)),T=E(e.defaultView),z=m(()=>u.lang.rtl===!0?"right":"left"),P=E(z.value),G=E(z.value),x=M.value.year,b=E(x-x%qe-(x<0?qe:0)),D=E(null),k=m(()=>{const n=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${n} q-date--${n}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),B=m(()=>e.color||"primary"),R=m(()=>e.textColor||"white"),K=m(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),A=m(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),F=m(()=>A.value.filter(n=>typeof n=="string").map(n=>ct(n,q.value,I.value)).filter(n=>n.dateHash!==null&&n.day!==null&&n.month!==null&&n.year!==null)),C=m(()=>{const n=o=>ct(o,q.value,I.value);return A.value.filter(o=>va(o)===!0&&o.from!==void 0&&o.to!==void 0).map(o=>({from:n(o.from),to:n(o.to)})).filter(o=>o.from.dateHash!==null&&o.to.dateHash!==null&&o.from.dateHash<o.to.dateHash)}),O=m(()=>e.calendar!=="persian"?n=>new Date(n.year,n.month-1,n.day):n=>{const o=dn(n.year,n.month,n.day);return new Date(o.gy,o.gm-1,o.gd)}),j=m(()=>e.calendar==="persian"?Me:(n,o,s)=>jl(new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond),o===void 0?q.value:o,s===void 0?I.value:s,n.year,n.timezoneOffset)),Q=m(()=>F.value.length+C.value.reduce((n,o)=>n+1+Tn(O.value(o.to),O.value(o.from)),0)),g=m(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(D.value!==null){const s=D.value.init,_=O.value(s);return I.value.daysShort[_.getDay()]+", "+I.value.monthsShort[s.month-1]+" "+s.day+He+"?"}if(Q.value===0)return He;if(Q.value>1)return`${Q.value} ${I.value.pluralDay}`;const n=F.value[0],o=O.value(n);return isNaN(o.valueOf())===!0?He:I.value.headerTitle!==void 0?I.value.headerTitle(o,n):I.value.daysShort[o.getDay()]+", "+I.value.monthsShort[n.month-1]+" "+n.day}),J=m(()=>F.value.concat(C.value.map(o=>o.from)).sort((o,s)=>o.year-s.year||o.month-s.month)[0]),se=m(()=>F.value.concat(C.value.map(o=>o.to)).sort((o,s)=>s.year-o.year||s.month-o.month)[0]),ue=m(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(Q.value===0)return He;if(Q.value>1){const n=J.value,o=se.value,s=I.value.monthsShort;return s[n.month-1]+(n.year!==o.year?" "+n.year+He+s[o.month-1]+" ":n.month!==o.month?He+s[o.month-1]:"")+" "+o.year}return F.value[0].year}),$=m(()=>{const n=[u.iconSet.datetime.arrowLeft,u.iconSet.datetime.arrowRight];return u.lang.rtl===!0?n.reverse():n}),ee=m(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):I.value.firstDayOfWeek),xe=m(()=>{const n=I.value.daysShort,o=ee.value;return o>0?n.slice(o,7).concat(n.slice(0,o)):n}),he=m(()=>{const n=M.value;return e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():nt(n.year,n.month)}),je=m(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),de=m(()=>{if(e.navigationMinYearMonth===void 0)return null;const n=e.navigationMinYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),ce=m(()=>{if(e.navigationMaxYearMonth===void 0)return null;const n=e.navigationMaxYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),st=m(()=>{const n={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return de.value!==null&&de.value.year>=M.value.year&&(n.year.prev=!1,de.value.year===M.value.year&&de.value.month>=M.value.month&&(n.month.prev=!1)),ce.value!==null&&ce.value.year<=M.value.year&&(n.year.next=!1,ce.value.year===M.value.year&&ce.value.month<=M.value.month&&(n.month.next=!1)),n}),Ze=m(()=>{const n={};return F.value.forEach(o=>{const s=_e(o);n[s]===void 0&&(n[s]=[]),n[s].push(o.day)}),n}),Rt=m(()=>{const n={};return C.value.forEach(o=>{const s=_e(o.from),_=_e(o.to);if(n[s]===void 0&&(n[s]=[]),n[s].push({from:o.from.day,to:s===_?o.to.day:void 0,range:o}),s<_){let S;const{year:Z,month:V}=o.from,H=V<12?{year:Z,month:V+1}:{year:Z+1,month:1};for(;(S=_e(H))<=_;)n[S]===void 0&&(n[S]=[]),n[S].push({from:void 0,to:S===_?o.to.day:void 0,range:o}),H.month++,H.month>12&&(H.year++,H.month=1)}}),n}),Le=m(()=>{if(D.value===null)return;const{init:n,initHash:o,final:s,finalHash:_}=D.value,[S,Z]=o<=_?[n,s]:[s,n],V=_e(S),H=_e(Z);if(V!==me.value&&H!==me.value)return;const te={};return V===me.value?(te.from=S.day,te.includeFrom=!0):te.from=1,H===me.value?(te.to=Z.day,te.includeTo=!0):te.to=he.value,te}),me=m(()=>_e(M.value)),Yn=m(()=>{const n={};if(e.options===void 0){for(let s=1;s<=he.value;s++)n[s]=!0;return n}const o=typeof e.options=="function"?e.options:s=>e.options.includes(s);for(let s=1;s<=he.value;s++){const _=me.value+"/"+X(s);n[s]=o(_)}return n}),Pn=m(()=>{const n={};if(e.events===void 0)for(let o=1;o<=he.value;o++)n[o]=!1;else{const o=typeof e.events=="function"?e.events:s=>e.events.includes(s);for(let s=1;s<=he.value;s++){const _=me.value+"/"+X(s);n[s]=o(_)===!0&&je.value(_)}}return n}),jn=m(()=>{let n,o;const{year:s,month:_}=M.value;if(e.calendar!=="persian")n=new Date(s,_-1,1),o=new Date(s,_-1,0).getDate();else{const S=dn(s,_,1);n=new Date(S.gy,S.gm-1,S.gd);let Z=_-1,V=s;Z===0&&(Z=12,V--),o=nt(V,Z)}return{days:n.getDay()-ee.value-1,endDay:o}}),At=m(()=>{const n=[],{days:o,endDay:s}=jn.value,_=o<0?o+7:o;if(_<6)for(let V=s-_;V<=s;V++)n.push({i:V,fill:!0});const S=n.length;for(let V=1;V<=he.value;V++){const H={i:V,event:Pn.value[V],classes:[]};Yn.value[V]===!0&&(H.in=!0,H.flat=!0),n.push(H)}if(Ze.value[me.value]!==void 0&&Ze.value[me.value].forEach(V=>{const H=S+V-1;Object.assign(n[H],{selected:!0,unelevated:!0,flat:!1,color:B.value,textColor:R.value})}),Rt.value[me.value]!==void 0&&Rt.value[me.value].forEach(V=>{if(V.from!==void 0){const H=S+V.from-1,te=S+(V.to||he.value)-1;for(let ze=H;ze<=te;ze++)Object.assign(n[ze],{range:V.range,unelevated:!0,color:B.value,textColor:R.value});Object.assign(n[H],{rangeFrom:!0,flat:!1}),V.to!==void 0&&Object.assign(n[te],{rangeTo:!0,flat:!1})}else if(V.to!==void 0){const H=S+V.to-1;for(let te=S;te<=H;te++)Object.assign(n[te],{range:V.range,unelevated:!0,color:B.value,textColor:R.value});Object.assign(n[H],{flat:!1,rangeTo:!0})}else{const H=S+he.value-1;for(let te=S;te<=H;te++)Object.assign(n[te],{range:V.range,unelevated:!0,color:B.value,textColor:R.value})}}),Le.value!==void 0){const V=S+Le.value.from-1,H=S+Le.value.to-1;for(let te=V;te<=H;te++)n[te].color=B.value,n[te].editRange=!0;Le.value.includeFrom===!0&&(n[V].editRangeFrom=!0),Le.value.includeTo===!0&&(n[H].editRangeTo=!0)}M.value.year===Y.value.year&&M.value.month===Y.value.month&&(n[S+Y.value.day-1].today=!0);const Z=n.length%7;if(Z>0){const V=7-Z;for(let H=1;H<=V;H++)n.push({i:H,fill:!0})}return n.forEach(V=>{let H="q-date__calendar-item ";V.fill===!0?H+="q-date__calendar-item--fill":(H+=`q-date__calendar-item--${V.in===!0?"in":"out"}`,V.range!==void 0&&(H+=` q-date__range${V.rangeTo===!0?"-to":V.rangeFrom===!0?"-from":""}`),V.editRange===!0&&(H+=` q-date__edit-range${V.editRangeFrom===!0?"-from":""}${V.editRangeTo===!0?"-to":""}`),(V.range!==void 0||V.editRange===!0)&&(H+=` text-${V.color}`)),V.classes=H}),n}),Ln=m(()=>e.disable===!0?{"aria-disabled":"true"}:{});ae(()=>e.modelValue,n=>{if(v===n)v=0;else{const o=Yt(q.value,I.value);Re(o.year,o.month,o)}}),ae(T,()=>{y.value!==null&&l.$el.contains(document.activeElement)===!0&&y.value.focus()}),ae(()=>M.value.year+"|"+M.value.month,()=>{a("navigation",{year:M.value.year,month:M.value.month})}),ae(W,n=>{Nt(n,I.value,"mask"),q.value=n}),ae(U,n=>{Nt(q.value,n,"locale"),I.value=n});function Tt(){const{year:n,month:o,day:s}=Y.value,_={...M.value,year:n,month:o,day:s},S=Ze.value[_e(_)];(S===void 0||S.includes(_.day)===!1)&&vt(_),dt(_.year,_.month)}function zn(n){yn(n)===!0&&(T.value=n)}function Nn(n,o){["month","year"].includes(n)&&(n==="month"?jt:ft)(o===!0?-1:1)}function dt(n,o){T.value="Calendar",Re(n,o)}function Qn(n,o){if(e.range===!1||!n){D.value=null;return}const s=Object.assign({...M.value},n),_=o!==void 0?Object.assign({...M.value},o):s;D.value={init:s,initHash:Me(s),final:_,finalHash:Me(_)},dt(s.year,s.month)}function Ht(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function ct(n,o,s){return Pl(n,o,s,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Yt(n,o){const s=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(s.length===0)return Pt();const _=s[s.length-1],S=ct(_.from!==void 0?_.from:_,n,o);return S.dateHash===null?Pt():S}function Pt(){let n,o;if(e.defaultYearMonth!==void 0){const s=e.defaultYearMonth.split("/");n=parseInt(s[0],10),o=parseInt(s[1],10)}else{const s=Y.value!==void 0?Y.value:d();n=s.year,o=s.month}return{year:n,month:o,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:n+"/"+X(o)+"/01"}}function jt(n){let o=M.value.year,s=Number(M.value.month)+n;s===13?(s=1,o++):s===0&&(s=12,o--),Re(o,s),K.value===!0&&Ke("month")}function ft(n){const o=Number(M.value.year)+n;Re(o,M.value.month),K.value===!0&&Ke("year")}function Zn(n){Re(n,M.value.month),T.value=e.defaultView==="Years"?"Months":"Calendar",K.value===!0&&Ke("year")}function Kn(n){Re(M.value.year,n),T.value="Calendar",K.value===!0&&Ke("month")}function Un(n,o){const s=Ze.value[o];(s!==void 0&&s.includes(n.day)===!0?mt:vt)(n)}function De(n){return{year:n.year,month:n.month,day:n.day}}function Re(n,o,s){if(de.value!==null&&n<=de.value.year&&((o<de.value.month||n<de.value.year)&&(o=de.value.month),n=de.value.year),ce.value!==null&&n>=ce.value.year&&((o>ce.value.month||n>ce.value.year)&&(o=ce.value.month),n=ce.value.year),s!==void 0){const{hour:S,minute:Z,second:V,millisecond:H,timezoneOffset:te,timeHash:ze}=s;Object.assign(M.value,{hour:S,minute:Z,second:V,millisecond:H,timezoneOffset:te,timeHash:ze})}const _=n+"/"+X(o)+"/01";_!==M.value.dateHash&&(P.value=M.value.dateHash<_==(u.lang.rtl!==!0)?"left":"right",n!==M.value.year&&(G.value=P.value),ye(()=>{b.value=n-n%qe-(n<0?qe:0),Object.assign(M.value,{year:n,month:o,day:1,dateHash:_})}))}function Lt(n,o,s){const _=n!==null&&n.length===1&&e.multiple===!1?n[0]:n;v=_;const{reason:S,details:Z}=zt(o,s);a("update:modelValue",_,S,Z)}function Ke(n){const o=F.value[0]!==void 0&&F.value[0].dateHash!==null?{...F.value[0]}:{...M.value};ye(()=>{o.year=M.value.year,o.month=M.value.month;const s=e.calendar!=="persian"?new Date(o.year,o.month,0).getDate():nt(o.year,o.month);o.day=Math.min(Math.max(1,o.day),s);const _=Ae(o);v=_;const{details:S}=zt("",o);a("update:modelValue",_,n,S)})}function zt(n,o){return o.from!==void 0?{reason:`${n}-range`,details:{...De(o.target),from:De(o.from),to:De(o.to)}}:{reason:`${n}-day`,details:De(o)}}function Ae(n,o,s){return n.from!==void 0?{from:j.value(n.from,o,s),to:j.value(n.to,o,s)}:j.value(n,o,s)}function vt(n){let o;if(e.multiple===!0)if(n.from!==void 0){const s=Me(n.from),_=Me(n.to),S=F.value.filter(V=>V.dateHash<s||V.dateHash>_),Z=C.value.filter(({from:V,to:H})=>H.dateHash<s||V.dateHash>_);o=S.concat(Z).concat(n).map(V=>Ae(V))}else{const s=A.value.slice();s.push(Ae(n)),o=s}else o=Ae(n);Lt(o,"add",n)}function mt(n){if(e.noUnset===!0)return;let o=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const s=Ae(n);n.from!==void 0?o=e.modelValue.filter(_=>_.from!==void 0?_.from!==s.from&&_.to!==s.to:!0):o=e.modelValue.filter(_=>_!==s),o.length===0&&(o=null)}Lt(o,"remove",n)}function Nt(n,o,s){const _=F.value.concat(C.value).map(S=>Ae(S,n,o)).filter(S=>S.from!==void 0?S.from.dateHash!==null&&S.to.dateHash!==null:S.dateHash!==null);a("update:modelValue",(e.multiple===!0?_:_[0])||null,s)}function Wn(){if(e.minimal!==!0)return h("div",{class:"q-date__header "+f.value},[h("div",{class:"relative-position"},[h(Se,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+ue.value,class:"q-date__header-subtitle q-date__header-link "+(T.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...c("vY",{onClick(){T.value="Years"},onKeyup(n){n.keyCode===13&&(T.value="Years")}})},[ue.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(Se,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+g.value,class:"q-date__header-title-label q-date__header-link "+(T.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...c("vC",{onClick(){T.value="Calendar"},onKeyup(n){n.keyCode===13&&(T.value="Calendar")}})},[g.value]))]),e.todayBtn===!0?h(ie,{class:"q-date__header-today self-start",icon:u.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:Tt}):null])])}function ht({label:n,type:o,key:s,dir:_,goTo:S,boundaries:Z,cls:V}){return[h("div",{class:"row items-center q-date__arrow"},[h(ie,{round:!0,dense:!0,size:"sm",flat:!0,icon:$.value[0],tabindex:i.value,disable:Z.prev===!1,...c("go-#"+o,{onClick(){S(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+V},[h(Se,{name:"q-transition--jump-"+_},()=>h("div",{key:s},[h(ie,{flat:!0,dense:!0,noCaps:!0,label:n,tabindex:i.value,...c("view#"+o,{onClick:()=>{T.value=o}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(ie,{round:!0,dense:!0,size:"sm",flat:!0,icon:$.value[1],tabindex:i.value,disable:Z.next===!1,...c("go+#"+o,{onClick(){S(1)}})})])]}const Gn={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},ht({label:I.value.months[M.value.month-1],type:"Months",key:M.value.month,dir:P.value,goTo:jt,boundaries:st.value.month,cls:" col"}).concat(ht({label:M.value.year,type:"Years",key:M.value.year,dir:G.value,goTo:ft,boundaries:st.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},xe.value.map(n=>h("div",{class:"q-date__calendar-item"},[h("div",n)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(Se,{name:"q-transition--slide-"+P.value},()=>h("div",{key:me.value,class:"q-date__calendar-days fit"},At.value.map(n=>h("div",{class:n.classes},[n.in===!0?h(ie,{class:n.today===!0?"q-date__today":"",dense:!0,flat:n.flat,unelevated:n.unelevated,color:n.color,textColor:n.textColor,label:n.i,tabindex:i.value,...c("day#"+n.i,{onClick:()=>{Xn(n.i)},onMouseover:()=>{Jn(n.i)}})},n.event!==!1?()=>h("div",{class:"q-date__event bg-"+n.event}):null):h("div",""+n.i)]))))])])],Months(){const n=M.value.year===Y.value.year,o=_=>de.value!==null&&M.value.year===de.value.year&&de.value.month>_||ce.value!==null&&M.value.year===ce.value.year&&ce.value.month<_,s=I.value.monthsShort.map((_,S)=>{const Z=M.value.month===S+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(ie,{class:n===!0&&Y.value.month===S+1?"q-date__today":null,flat:Z!==!0,label:_,unelevated:Z,color:Z===!0?B.value:null,textColor:Z===!0?R.value:null,tabindex:i.value,disable:o(S+1),...c("month#"+S,{onClick:()=>{Kn(S+1)}})})])});return e.yearsInMonthView===!0&&s.unshift(h("div",{class:"row no-wrap full-width"},[ht({label:M.value.year,type:"Years",key:M.value.year,dir:G.value,goTo:ft,boundaries:st.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},s)},Years(){const n=b.value,o=n+qe,s=[],_=S=>de.value!==null&&de.value.year>S||ce.value!==null&&ce.value.year<S;for(let S=n;S<=o;S++){const Z=M.value.year===S;s.push(h("div",{class:"q-date__years-item flex flex-center"},[h(ie,{key:"yr"+S,class:Y.value.year===S?"q-date__today":null,flat:!Z,label:S,dense:!0,unelevated:Z,color:Z===!0?B.value:null,textColor:Z===!0?R.value:null,tabindex:i.value,disable:_(S),...c("yr#"+S,{onClick:()=>{Zn(S)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(ie,{round:!0,dense:!0,flat:!0,icon:$.value[0],tabindex:i.value,disable:_(n),...c("y-",{onClick:()=>{b.value-=qe}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},s),h("div",{class:"col-auto"},[h(ie,{round:!0,dense:!0,flat:!0,icon:$.value[1],tabindex:i.value,disable:_(o),...c("y+",{onClick:()=>{b.value+=qe}})})])])}};function Xn(n){const o={...M.value,day:n};if(e.range===!1){Un(o,me.value);return}if(D.value===null){const s=At.value.find(S=>S.fill!==!0&&S.i===n);if(e.noUnset!==!0&&s.range!==void 0){mt({target:o,from:s.range.from,to:s.range.to});return}if(s.selected===!0){mt(o);return}const _=Me(o);D.value={init:o,initHash:_,final:o,finalHash:_},a("rangeStart",De(o))}else{const s=D.value.initHash,_=Me(o),S=s<=_?{from:D.value.init,to:o}:{from:o,to:D.value.init};D.value=null,vt(s===_?o:{target:o,...S}),a("rangeEnd",{from:De(S.from),to:De(S.to)})}}function Jn(n){if(D.value!==null){const o={...M.value,day:n};Object.assign(D.value,{final:o,finalHash:Me(o)})}}return Object.assign(l,{setToday:Tt,setView:zn,offsetCalendar:Nn,setCalendarTo:dt,setEditingRange:Qn}),()=>{const n=[h("div",{class:"q-date__content col relative-position"},[h(Se,{name:"q-transition--fade"},Gn[T.value])])],o=pe(t.default);return o!==void 0&&n.push(h("div",{class:"q-date__actions"},o)),e.name!==void 0&&e.disable!==!0&&w(n,"push"),h("div",{class:k.value,...Ln.value},[Wn(),h("div",{ref:y,class:"q-date__main col column",tabindex:-1},n)])}}});const Nl={class:"text-h6"},Ql={class:"text-h6"},Zl={__name:"WorkCalendar",setup(e){const t=E(!1),a=E(""),l=E(""),u={days:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],daysShort:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],monthsShort:["\u042F\u043D\u0432","\u0424\u0435\u0432","\u041C\u0430\u0440","\u0410\u043F\u0440","\u041C\u0430\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","\u0410\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"]},r=()=>{let w=i.value;if(w){const y=new Date(w).toISOString().split("T")[0];if(isNaN(new Date(y).getTime())){console.error("Invalid date value");return}const q=f.value.find(I=>I.date===y);q&&(a.value=y,l.value=`\u0422\u0438\u043F \u0441\u043E\u0431\u044B\u0442\u0438\u044F: ${q.type==="work"?"\u0420\u0430\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C":q.type==="rest"?"\u0412\u044B\u0445\u043E\u0434\u043D\u043E\u0439 \u0434\u0435\u043D\u044C":"\u041A\u043E\u043D\u0435\u0446 \u0432\u0430\u0445\u0442\u044B"}`,t.value=!0)}},c=Ot(),i=E(new Date().toISOString().split("T")[0]),f=E();E();const p=E("");Be(()=>{c.loadEvents(),f.value=L()});const d=w=>{if(w&&f.value){const y=new Date(w).toISOString().split("T")[0];return f.value.some(q=>q.date===y)}return!1},v=w=>{if(w){const y=new Date(w).toISOString().split("T")[0],q=f.value.find(I=>I.date===y);if(q){if(q.type==="work")return"green";if(q.type==="rest")return"blue";if(q.type==="end")return"red"}}return""},L=()=>{let w=c.getEvents,y=Object.keys(w);return p.value=y[y.length-1],w[y[y.length-1]].events};return(w,y)=>(Ee(),at(Mn,null,[N(ot,{class:"my-card"},{default:oe(()=>[N(Fe,null,{default:oe(()=>[be("div",Nl,"\u0413\u0440\u0430\u0444\u0438\u043A: "+gt(p.value),1)]),_:1}),N(Fe,{class:"flex flex-center"},{default:oe(()=>[N(zl,{title:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",modelValue:i.value,"onUpdate:modelValue":y[0]||(y[0]=q=>i.value=q),events:d,"event-color":v,locale:u,onClick:r,"first-day-of-week":"1",minimal:!0,flat:"",square:"","today-btn":"","navigation-min-year-month":"2024/10"},null,8,["modelValue"]),N(ie,{color:"secondary",class:"full-width",onClick:y[1]||(y[1]=q=>w.saveEvents())},{default:oe(()=>[_t("\u0417\u0430\u043F\u043E\u043C\u043D\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u043A")]),_:1}),N(ie,{color:"red",class:"full-width",onClick:y[2]||(y[2]=q=>w.editGrafic())},{default:oe(()=>[_t("\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u043A")]),_:1})]),_:1})]),_:1}),N(Fn,{modelValue:t.value,"onUpdate:modelValue":y[3]||(y[3]=q=>t.value=q)},{default:oe(()=>[N(ot,null,{default:oe(()=>[N(Fe,null,{default:oe(()=>[be("div",Ql,gt(a.value),1),be("div",null,gt(l.value),1)]),_:1}),N(Vn,{align:"right"},{default:oe(()=>[St(N(ie,{flat:"",label:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",color:"primary"},null,512),[[qt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Hn=e=>(ha("data-v-33a88efc"),e=e(),ga(),e),Kl={class:"row q-col-gutter-lg"},Ul={class:"col-12 col-md-6 col-lg-4"},Wl={class:"col-12 col-md-6 col-lg-4"},Gl=Hn(()=>be("div",{class:"col-12 col-md-6 col-lg-4"},null,-1)),Xl={class:"row"},Jl={key:0,class:"col-lg-12 col-md-6"},eo=Hn(()=>be("div",{class:"text-h6"},"\u0417\u0430\u0440\u043F\u043B\u0430\u0442\u0430 \u0437\u0430 \u0434\u0435\u043D\u044C",-1)),to={__name:"WorkSchedule",setup(e){Ot(),E(!0);const t=E(!1),a=E(null),l=E(0),u=E(0),r=E([]),c=()=>{let p=f(),d=p.findIndex(v=>v.id==a.value);p[d].money=l.value,i(p),r.value=f(),a.value=null,t.value=!1};E(!1),Be(()=>{r.value.length==0&&(r.value=f())});const i=p=>{console.log("\u041F\u0435\u0440\u0432\u044B\u0439 \u0434\u0435\u043D\u044C: "+p[0].date),console.log("\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u0434\u0435\u043D\u044C: "+p[p.length-1].date),p.value=p,ge.set("events",p)},f=()=>{let p=ge.getItem("workingDays"),d=ge.getItem("restDays"),v=ge.getItem("rotationPeriod"),L=ge.getItem("rotationStart"),w=ge.getItem("currentDate"),y=ge.getItem("events");return p&&(workingDays.value=p),d&&(restDays.value=d),v&&(rotationPeriod.value=v),L&&(rotationStart.value=L),w&&(currentDate.value=w),console.log(y),y};return(p,d)=>(Ee(),at(Mn,null,[be("div",Kl,[be("div",Ul,[N(Dl,{onCheck:d[0]||(d[0]=v=>u.value=u.value+1)})]),be("div",Wl,[(Ee(),It(Zl,{key:u.value}))]),Gl,be("div",Xl,[r.value?(Ee(),at("div",Jl)):kn("",!0)])]),N(Fn,{modelValue:t.value,"onUpdate:modelValue":d[4]||(d[4]=v=>t.value=v),persistent:""},{default:oe(()=>[N(ot,{style:{"min-width":"350px"}},{default:oe(()=>[N(Fe,null,{default:oe(()=>[eo]),_:1}),N(Fe,{class:"q-pt-none"},{default:oe(()=>[N(Ve,{dense:"",type:"number",modelValue:l.value,"onUpdate:modelValue":d[1]||(d[1]=v=>l.value=v),autofocus:"",onKeyup:d[2]||(d[2]=ma(v=>t.value=!1,["enter"]))},null,8,["modelValue"])]),_:1}),N(Vn,{align:"right",class:"text-primary"},{default:oe(()=>[St(N(ie,{flat:"",label:"Cancel"},null,512),[[qt]]),St(N(ie,{flat:"",label:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",onClick:d[3]||(d[3]=v=>c())},null,512),[[qt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var no=_n(to,[["__scopeId","data-v-33a88efc"]]);const ao={components:{WorkSchedule:no}};function lo(e,t,a,l,u,r){const c=ya("work-schedule");return Ee(),It(qa,{class:"q-pa-md"},{default:oe(()=>[N(c)]),_:1})}var io=_n(ao,[["render",lo]]);export{io as default};
